<!DOCTYPE html>
<html>
<head>
    <title>Reproduciendo...</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        body { margin: 0; background: black; display: flex; justify-content: center; align-items: center; height: 100vh; }
        video { width: 90%; max-width: 1000px; height: auto; }
        .volver { position: absolute; top: 20px; left: 20px; color: white; text-decoration: none; font-family: Arial; font-weight: bold;}
    </style>
</head>
<body>
    <a href="index.html" class="volver">← Volver al menú</a>
    <video id="video" controls autoplay></video>

    <script>
        // 1. Detectar qué video pidió el usuario desde la URL
        const parametros = new URLSearchParams(window.location.search);
        const urlVideo = parametros.get('video');
        const video = document.getElementById('video');

        if (urlVideo) {
            // 2. Si el navegador soporta HLS nativo (Safari/iPhone)
            if (video.canPlayType('application/vnd.apple.mpegurl')) {
                video.src = urlVideo;
            }
            // 3. Si no, usamos la librería Hls.js (Chrome, Firefox, Android)
            else if (Hls.isSupported()) {
                var hls = new Hls();
                hls.loadSource(urlVideo);
                hls.attachMedia(video);
            }
        } else {
            alert("No encontré ningún video para reproducir");
        }
    </script>
</body>
</html>